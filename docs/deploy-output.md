        > ansible-playbook deploy.yml                                                                                                          master-!?

        PLAY [dockerhost] ****************************************************************************************************************************************************************

        TASK [Gathering Facts] ***********************************************************************************************************************************************************
        ok: [dsserver]

        TASK [docker : Install prerequesite packages] ************************************************************************************************************************************
        ok: [dsserver] => (item=apt-transport-https)
        ok: [dsserver] => (item=ca-certificates)
        ok: [dsserver] => (item=curl)
        ok: [dsserver] => (item=gnupg2)
        ok: [dsserver] => (item=software-properties-common)
        ok: [dsserver] => (item=python-pip)

        TASK [docker : Install docker-py required for building Dockerfile with Ansible] **************************************************************************************************
        ok: [dsserver]

        TASK [docker : Install the required apt key] *************************************************************************************************************************************
        ok: [dsserver]

        TASK [docker : Add Docker repository] ********************************************************************************************************************************************
        changed: [dsserver]

        TASK [docker : Install Docker on the host system] ********************************************************************************************************************************
        changed: [dsserver]

        TASK [docker : Copy docker daemon.json file (enable gelf driver)] ****************************************************************************************************************
        changed: [dsserver]

        TASK [docker : Ensure that the service is enabled and running] *******************************************************************************************************************
        changed: [dsserver]

        TASK [docker : Create docker internal network] ***********************************************************************************************************************************
        changed: [dsserver]

        TASK [docker : Create local docker registry] *************************************************************************************************************************************
        changed: [dsserver]

        PLAY [Enable pushing logs to Graylog on hosts] ***********************************************************************************************************************************

        TASK [Gathering Facts] ***********************************************************************************************************************************************************
        ok: [dsserver]

        TASK [logging : Enable rsyslog to forward logs to Graylog] ***********************************************************************************************************************
        changed: [dsserver]

        TASK [logging : Install Node Exporter for Prometheus] ****************************************************************************************************************************
        changed: [dsserver]

        TASK [logging : Ensure the service above is enabled and running] *****************************************************************************************************************
        changed: [dsserver]

        RUNNING HANDLER [logging : restart rsyslog] **************************************************************************************************************************************
        changed: [dsserver]

        PLAY [dbhost] ********************************************************************************************************************************************************************

        TASK [Gathering Facts] ***********************************************************************************************************************************************************
        ok: [dsserver]

        TASK [db : Create a temporary directory for building the container image] ********************************************************************************************************
        changed: [dsserver]

        TASK [db : Copy the Dockerfile and the initdb script to the remote tempfile directory] *******************************************************************************************
        changed: [dsserver] => (item=Dockerfile)
        changed: [dsserver] => (item=01-initdb.sh)

        TASK [db : Build the database docker image] **************************************************************************************************************************************
        changed: [dsserver]

        TASK [db : Remove the temporary build directory] *********************************************************************************************************************************
        changed: [dsserver]

        TASK [db : Run the database container] *******************************************************************************************************************************************
        changed: [dsserver]

        PLAY [apphost] *******************************************************************************************************************************************************************

        TASK [Gathering Facts] ***********************************************************************************************************************************************************
        ok: [dsserver]

        TASK [app : Create a temporary directory for building the container image] *******************************************************************************************************
        changed: [dsserver]

        TASK [app : Copy the Dockerfile to the remote temporary directory] ***************************************************************************************************************
        changed: [dsserver]

        TASK [app : Build the application docker image] **********************************************************************************************************************************

        changed: [dsserver]

        TASK [app : Remove the temporary build directory] ********************************************************************************************************************************
        changed: [dsserver]

        TASK [app : Run the application container] ***************************************************************************************************************************************
        changed: [dsserver]

        TASK [app : Run the application container] ***************************************************************************************************************************************
        changed: [dsserver]

        PLAY [Install Prometheus monitoring and alert toolkit] ***************************************************************************************************************************

        TASK [Gathering Facts] ***********************************************************************************************************************************************************
        ok: [dsserver]

        TASK [prometheus : Create a temporary directory for building the container image] ************************************************************************************************
        changed: [dsserver]

        TASK [prometheus : Copy the Dockerfile to the remote temporary directory] ********************************************************************************************************
        changed: [dsserver] => (item=Dockerfile)

        TASK [prometheus : Copy the prometheus.yml template] *****************************************************************************************************************************
        changed: [dsserver]

        TASK [prometheus : Build the Prometheus docker image] ****************************************************************************************************************************
        changed: [dsserver]

        TASK [prometheus : Remove the temporary build directory] *************************************************************************************************************************
        ok: [dsserver]

        TASK [prometheus : Run the prometheus container] *********************************************************************************************************************************
        changed: [dsserver]

        PLAY [grayloghost] ***************************************************************************************************************************************************************

        TASK [Gathering Facts] ***********************************************************************************************************************************************************
        ok: [dsserver]

        TASK [graylog : Create temporary directory for build the container image] ********************************************************************************************************
        changed: [dsserver]

        TASK [graylog : Copy the Dockerfile to the remote temp directory] ****************************************************************************************************************
        changed: [dsserver]

        TASK [graylog : Copy the initdb script] ******************************************************************************************************************************************
        changed: [dsserver]

        TASK [graylog : Copy and uncompress mongodb dump] ********************************************************************************************************************************
        changed: [dsserver]

        TASK [graylog : Build the mongodb docker image] **********************************************************************************************************************************
        changed: [dsserver]

        TASK [graylog : remove the temporary build directory] ****************************************************************************************************************************
        ok: [dsserver]

        TASK [graylog : Run mongo container] *********************************************************************************************************************************************
        changed: [dsserver]

        TASK [graylog : sysctl entry required for elasticsearch "vm.max_map_count=262144"] ***********************************************************************************************
        changed: [dsserver]

        TASK [graylog : Run elastic container] *******************************************************************************************************************************************
        changed: [dsserver]

        TASK [graylog : Run graylog container] *******************************************************************************************************************************************
        changed: [dsserver]

        PLAY [Install Grafana] ***********************************************************************************************************************************************************

        TASK [Gathering Facts] ***********************************************************************************************************************************************************
        ok: [dsserver]

        TASK [grafana : Run the grafana container] ***************************************************************************************************************************************
        changed: [dsserver]

        PLAY [haproxyhost] ***************************************************************************************************************************************************************

        TASK [Gathering Facts] ***********************************************************************************************************************************************************
        ok: [dsserver]

        TASK [haproxy : Create a temporary directory for building the container image] ***************************************************************************************************
        changed: [dsserver]

        TASK [haproxy : Copy the Dockerfile and haproxy.cfg to the remote temporary directory] *******************************************************************************************
        changed: [dsserver] => (item=Dockerfile)
        changed: [dsserver] => (item=haproxy.cfg)

        TASK [haproxy : Copy the encrypted certificate file] *****************************************************************************************************************************
        changed: [dsserver]

        TASK [haproxy : Build the haproxy docker image] **********************************************************************************************************************************
        changed: [dsserver]

        TASK [haproxy : Remove the temporary build directory] ****************************************************************************************************************************
        changed: [dsserver]

        TASK [haproxy : Run the haproxy container] ***************************************************************************************************************************************
        changed: [dsserver]

        PLAY RECAP ***********************************************************************************************************************************************************************
        dsserver                   : ok=55   changed=42   unreachable=0    failed=0
